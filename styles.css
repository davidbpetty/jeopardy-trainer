:root{
  --bg:#0b1020;
  --panel:#111a33;
  --text:#eef3ff;
  --muted:#aab6d8;
  --line:rgba(255,255,255,.10);
  --good:#1fba6a;
  --bad:#e14b4b;
  --accent:#2f6bff;
}

*{box-sizing:border-box}
html,body{margin:0;padding:0;background:var(--bg);color:var(--text);font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}
button,select,input{font:inherit}

.topbar{
  position:sticky;top:0;z-index:10;
  display:flex;gap:12px;align-items:center;justify-content:space-between;
  padding:12px 12px calc(12px + env(safe-area-inset-top));
  background:linear-gradient(180deg, rgba(17,26,51,.96), rgba(11,16,32,.96));
  border-bottom:1px solid var(--line);
  pointer-events:auto;
}
.topbar *{pointer-events:auto;}

.brand{font-weight:800;letter-spacing:.2px}
.scoreWrap{display:flex;flex-direction:column;align-items:flex-end;gap:2px}
.scoreLabel{font-size:12px;color:var(--muted)}
.scoreValue{font-size:20px;font-weight:800}
.topActions{display:flex;gap:8px}

.main{padding:12px; padding-bottom:calc(18px + env(safe-area-inset-bottom)); max-width:1100px; margin:0 auto}
.view{width:100%}
.hidden{display:none !important}

.btn{
  border:1px solid var(--line);
  background:var(--panel);
  color:var(--text);
  padding:10px 12px;
  border-radius:12px;
  font-weight:700;
}
.btn:disabled{opacity:.5}
.btnGhost{background:transparent}
.btnGood{background:rgba(31,186,106,.18);border-color:rgba(31,186,106,.35)}
.btnBad{background:rgba(225,75,75,.16);border-color:rgba(225,75,75,.35)}
.select,.input{
  width:100%;
  border:1px solid var(--line);
  background:var(--panel);
  color:var(--text);
  padding:10px 12px;
  border-radius:12px;
}
.pill{
  display:inline-flex;
  padding:8px 10px;
  border-radius:999px;
  border:1px solid var(--line);
  background:rgba(255,255,255,.05);
  color:var(--muted);
  font-size:12px;
  font-weight:700;
  letter-spacing:.2px;
}

.boardControls{
  display:flex; gap:10px; align-items:flex-end; flex-wrap:wrap;
  padding:12px; border:1px solid var(--line); border-radius:16px;
  background:rgba(255,255,255,.03);
  margin-bottom:12px;
}
.control{min-width:160px}
.control.grow{flex:1; min-width:220px}
.controlLabel{font-size:12px;color:var(--muted);margin-bottom:6px;font-weight:800;text-transform:uppercase;letter-spacing:.6px}
.statusLine{color:var(--muted);font-weight:700}

.board{
  border:1px solid var(--line);
  border-radius:16px;
  overflow:hidden;
  background:rgba(255,255,255,.02);
}

.boardGrid{
  display:grid;
  width:100%;
}
.boardCell, .boardHead{
  border-right:1px solid var(--line);
  border-bottom:1px solid var(--line);
  padding:10px;
  text-align:center;
}
.boardHead{
  background:rgba(47,107,255,.10);
  font-weight:900;
  letter-spacing:.3px;
  text-transform:uppercase;
  font-size:12px;
  color:var(--text);
}
.boardCellBtn{
  width:100%;
  border:none;
  background:transparent;
  color:var(--text);
  font-weight:900;
  font-size:18px;
  padding:16px 8px;
}
.boardCellBtn:active{transform:scale(.99)}
.used .boardCellBtn{
  color:rgba(255,255,255,.20);
  text-decoration:line-through;
}
.used{background:rgba(255,255,255,.02)}

.clueHeader{
  display:flex; align-items:center; justify-content:space-between;
  padding:12px; border:1px solid var(--line); border-radius:16px;
  background:rgba(255,255,255,.03);
  margin-bottom:12px;
}
.clueCategory{font-weight:900;letter-spacing:.3px;text-transform:uppercase}
.clueValue{color:var(--muted);font-weight:800;margin-top:4px}

.clueCard{
  border:1px solid var(--line);
  border-radius:16px;
  background:rgba(255,255,255,.03);
  padding:14px;
  min-height:55vh;
  display:flex;
  flex-direction:column;
  gap:14px;
}
.clueText{
  font-size:20px;
  line-height:1.35;
  font-weight:800;
  letter-spacing:.2px;
  padding:4px 2px;
  word-break:break-word;
}

.progressWrap{display:flex;flex-direction:column;gap:8px}
.progressBar{
  width:100%;
  height:10px;
  border-radius:999px;
  border:1px solid var(--line);
  background:rgba(255,255,255,.04);
  overflow:hidden;
}
.progressFill{
  height:100%;
  width:0%;
  background: var(--accent);
}
.progressLabel{color:var(--muted);font-weight:800;font-size:12px}

.btnBuzz{
  width:100%;
  padding:16px 12px;
  border-radius:16px;
  border:1px solid rgba(47,107,255,.45);
  background:rgba(47,107,255,.22);
  color:var(--text);
  font-weight:1000;
  letter-spacing:1px;
  font-size:20px;
}
.btnBuzz:active{transform:scale(.99)}

.blankScreen{
  width:100%;
  flex:1;
  border-radius:16px;
  border:1px solid var(--line);
  background:rgba(0,0,0,.55);
}

.resultActions, .noBuzzActions{
  display:flex;
  gap:10px;
}
.resultActions > button, .noBuzzActions > button{flex:1}

.resultsTop{
  display:flex; align-items:center; justify-content:space-between;
  margin-bottom:10px;
}
.resultsTitle{font-size:20px;font-weight:900}
.resultsSummary{
  border:1px solid var(--line);
  border-radius:16px;
  background:rgba(255,255,255,.03);
  padding:12px;
  margin-bottom:12px;
}
.sumGrid{
  display:grid;
  grid-template-columns:repeat(2, minmax(0, 1fr));
  gap:10px;
}
.sumCard{
  border:1px solid var(--line);
  border-radius:14px;
  background:rgba(255,255,255,.02);
  padding:10px;
}
.sumTitle{font-weight:900}
.sumMeta{margin-top:6px;color:var(--muted);font-weight:700;font-size:12px;line-height:1.35}

.feedTitle{font-weight:900; margin:10px 2px}
.feed{display:flex;flex-direction:column;gap:10px}
.feedCard{
  border:1px solid var(--line);
  border-radius:16px;
  background:rgba(255,255,255,.03);
  padding:12px;
}
.feedCardTitle{font-weight:900}
.feedCardSub{color:var(--muted);font-weight:800;font-size:12px;margin-top:4px}
.feedBody{margin-top:10px;color:var(--text);font-weight:650;line-height:1.45}
.feedLinks{display:flex;flex-wrap:wrap;gap:8px;margin-top:10px}
.link{
  display:inline-flex; padding:8px 10px; border-radius:999px;
  border:1px solid var(--line);
  background:rgba(255,255,255,.03);
  color:var(--text);
  text-decoration:none;
  font-weight:800;
  font-size:12px;
}

.modal{
  border:none;
  padding:0;
  border-radius:16px;
  width:min(920px, calc(100vw - 18px));
  background:rgba(17,26,51,.98);
  color:var(--text);
}
.modal[open]{
  position:fixed;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
}
.modal::backdrop{background:rgba(0,0,0,.55)}
.modalBody{padding:12px}
.modalHeader{display:flex;align-items:center;justify-content:space-between;margin-bottom:10px}
.modalTitle{font-weight:900}
.settingsGrid{display:grid;grid-template-columns:repeat(1, minmax(0, 1fr));gap:10px}
.settingBlock{
  border:1px solid var(--line);
  border-radius:16px;
  background:rgba(255,255,255,.03);
  padding:12px;
}
.settingTitle{font-weight:900;margin-bottom:10px}
.importStatus{margin-top:8px;color:var(--muted);font-weight:800}
.hint{margin-top:8px;color:var(--muted);font-weight:700;font-size:12px;line-height:1.35}
.row{display:flex;align-items:center;gap:10px;margin-top:10px}
.rowLabel{min-width:140px;color:var(--muted);font-weight:900;font-size:12px;text-transform:uppercase;letter-spacing:.6px}

@media (min-width: 900px){
  .settingsGrid{grid-template-columns:repeat(2, minmax(0, 1fr))}
  .sumGrid{grid-template-columns:repeat(4, minmax(0, 1fr))}
}